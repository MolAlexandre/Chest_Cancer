schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/Chest_Cancer_Classifier/pipeline/stage_01_data_ingestion.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: e3b4620a255142625c18db817f19cde1
      size: 578
    - path: src/Chest_Cancer_Classifier/pipeline/stage_01_data_ingestion.py
      hash: md5
      md5: 9a0375be0da10e5356bf16aab27ec119
      size: 915
    outs:
    - path: artifacts/data_ingestion/Data
      hash: md5
      md5: 3ddc2c0e262e947578d73eeec3119af6.dir
      size: 124956798
      nfiles: 1000
  prepare_base_model:
    cmd: python src/Chest_Cancer_Classifier/pipeline/stage_02_prepare_base_model.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: e3b4620a255142625c18db817f19cde1
      size: 578
    - path: src/Chest_Cancer_Classifier/pipeline/stage_02_prepare_base_model.py
      hash: md5
      md5: 76a66745d0af78d6a36bc03e3afade36
      size: 955
    params:
      params.yaml:
        CLASSES: 4
        IMAGE_SIZE:
        - 224
        - 224
        - 3
        INCLUDE_TOP: false
        LEARNING_RATE: 1e-05
        WEIGHTS: imagenet
    outs:
    - path: artifacts/prepare_base_model
      hash: md5
      md5: aa6b5bd175a1a93afe5052ecdd3d8231.dir
      size: 130776832
      nfiles: 2
  training:
    cmd: python src/Chest_Cancer_Classifier/pipeline/stage_03_model_trainer.py
    deps:
    - path: artifacts/data_ingestion/Data
      hash: md5
      md5: 3ddc2c0e262e947578d73eeec3119af6.dir
      size: 124956798
      nfiles: 1000
    - path: artifacts/prepare_base_model
      hash: md5
      md5: aa6b5bd175a1a93afe5052ecdd3d8231.dir
      size: 130776832
      nfiles: 2
    - path: config/config.yaml
      hash: md5
      md5: e3b4620a255142625c18db817f19cde1
      size: 578
    - path: src/Chest_Cancer_Classifier/pipeline/stage_03_model_trainer.py
      hash: md5
      md5: 4578f98049568c3142da8f202f46a634
      size: 874
    params:
      params.yaml:
        AUGMENTATION: true
        BATCH_SIZE: 8
        EPOCHS: 15
        IMAGE_SIZE:
        - 224
        - 224
        - 3
    outs:
    - path: artifacts/training/model.h5
      hash: md5
      md5: 19373891804873b519d9c076df885715
      size: 97697816
  evaluation:
    cmd: python src/Chest_Cancer_Classifier/pipeline/stage_04_model_evaluation.py
    deps:
    - path: artifacts/data_ingestion/Data
      hash: md5
      md5: 3ddc2c0e262e947578d73eeec3119af6.dir
      size: 124956798
      nfiles: 1000
    - path: artifacts/training/model.h5
      hash: md5
      md5: 19373891804873b519d9c076df885715
      size: 97697816
    - path: config/config.yaml
      hash: md5
      md5: e3b4620a255142625c18db817f19cde1
      size: 578
    - path: src/Chest_Cancer_Classifier/pipeline/stage_04_model_evaluation.py
      hash: md5
      md5: 8a92eb0b1ff19a370e4077127dbbd185
      size: 836
    params:
      params.yaml:
        BATCH_SIZE: 8
        IMAGE_SIZE:
        - 224
        - 224
        - 3
    outs:
    - path: scores.json
      hash: md5
      md5: 2e80d395a4e7271f9c3c4c34c5ed688f
      size: 73
